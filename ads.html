<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vídeo</title>
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family: Arial, sans-serif;
      height:100vh;
      background: url("img/fundo.png") center/cover no-repeat;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .wrap{
      width:min(1400px, 92vw);
      text-align:center;
    }
    h1{color:#fff;font-size:34px;letter-spacing:.5px;margin-bottom:8px}
    p{color:rgba(255,255,255,.85);margin-bottom:18px}

    .card{
      position:relative;
      width:100%;
      aspect-ratio: 16/9;
      background:#000;
      border-radius:22px;
      overflow:hidden;
      box-shadow:0 18px 45px rgba(0,0,0,.35);
    }
    video{
      width:100%;
      height:100%;
      object-fit:cover;
      background:#000;
    }
    .tap{
      position:absolute; inset:0;
      display:flex; align-items:center; justify-content:center;
      color:#fff;
      font-weight:900;
      font-size:28px;
      text-transform:uppercase;
      background:rgba(0,0,0,.45);
      opacity:0; pointer-events:none;
      transition: .2s ease;
      text-align:center;
      padding:20px;
    }
    .tap.show{opacity:1;pointer-events:auto}

    .voltar{
      margin-top:18px;
      display:inline-block;
      padding:14px 22px;
      background:#d7e6ff;
      color:#003a7a;
      border-radius:12px;
      font-weight:900;
      text-decoration:none;
      font-size:22px;
    }
  </style>
</head>
<body>

  <div class="wrap">
    <h1>PRODUÇÃO MULTIMÍDIA</h1>
    <p>O vídeo deve iniciar automaticamente com som (se o navegador permitir).</p>

    <div id="card" class="card">
      <video id="vid" autoplay playsinline loop preload="auto">
        <source src="videos/pmm.mp4" type="video/mp4">
      </video>
      <div id="tap" class="tap">TOQUE PARA ATIVAR O SOM</div>
    </div>

    <a class="voltar" href="graduacoes.html">VOLTAR</a>
  </div>

  <script>
    const video = document.getElementById("vid");
    const tap = document.getElementById("tap");
    const card = document.getElementById("card");

    // tenta iniciar COM SOM
    async function tentarComSom(){
      video.muted = false;
      video.volume = 1;
      try{
        await video.play();          // se bloquear, cai no catch
        tap.classList.remove("show");
        return true;
      }catch(e){
        // plano B: inicia mudo e pede toque pra liberar áudio
        video.muted = true;
        try{ await video.play(); }catch(_){}
        tap.classList.add("show");
        return false;
      }
    }

    // ao tocar, libera som e tenta fullscreen (se permitido)
    async function liberarSom(){
      try{
        if (card.requestFullscreen) await card.requestFullscreen();
      }catch(e){}
      video.muted = false;
      video.volume = 1;
      try{ await video.play(); }catch(e){}
      tap.classList.remove("show");
    }

    // dispara ao abrir
    setTimeout(tentarComSom, 200);

    tap.addEventListener("click", liberarSom);
    card.addEventListener("click", liberarSom);
  </script>

</body>
</html>
